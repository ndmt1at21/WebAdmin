'use strict';

var PassThrough = require('stream').PassThrough;

var mimicResponse = require('mimic-response');

var cloneResponse = function cloneResponse(response) {
  if (!(response && response.pipe)) {
    throw new TypeError('Parameter `response` must be a response stream.');
  }

  var clone = new PassThrough();
  mimicResponse(response, clone);
  return response.pipe(clone);
};

module.exports = cloneResponse;
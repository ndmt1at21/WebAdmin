"use strict";

var os = require('os');

module.exports = function () {
  var cores;

  try {
    cores = require('physical-cpu-count');
  } catch (err) {
    cores = os.cpus().length;
  }

  return cores || 1;
};
"use strict";

var Event = require("../generated/Event");

var _require = require("../generated/utils"),
    tryImplForWrapper = _require.tryImplForWrapper;

function createAnEvent(e) {
  var eventInterface = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Event;
  var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return eventInterface.createImpl([e, attributes], {
    isTrusted: attributes.isTrusted !== false
  });
}

function fireAnEvent(e, target, eventInterface, attributes, legacyTargetOverrideFlag) {
  var event = createAnEvent(e, eventInterface, attributes); // tryImplForWrapper() is currently required due to use in Window.js and xmlhttprequest.js

  return tryImplForWrapper(target)._dispatch(event, legacyTargetOverrideFlag);
}

module.exports = {
  createAnEvent: createAnEvent,
  fireAnEvent: fireAnEvent
};
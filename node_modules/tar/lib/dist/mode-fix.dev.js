'use strict';

module.exports = function (mode, isDir) {
  mode &= 4095; // if dirs are readable, then they should be listable

  if (isDir) {
    if (mode & 256) mode |= 64;
    if (mode & 32) mode |= 8;
    if (mode & 4) mode |= 1;
  }

  return mode;
};
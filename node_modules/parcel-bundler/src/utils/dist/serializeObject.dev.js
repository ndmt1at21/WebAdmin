"use strict";

var _require = require('terser'),
    minify = _require.minify;

var serialize = require('serialize-to-js');

function serializeObject(obj) {
  var shouldMinify = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  var code = "module.exports = ".concat(serialize(obj), ";");

  if (shouldMinify) {
    var minified = minify(code);

    if (minified.error) {
      throw minified.error;
    }

    code = minified.code;
  }

  return code;
}

module.exports = serializeObject;